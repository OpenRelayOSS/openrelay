# Relay Payload Format
* 4byte alignment
* Recommend payload size are less than 800 bytes.

## Header
16bytes fixed  
defs.Header
```
  0               8                16               24               32
  +---------------- ---------------- ---------------- ----------------+
  |    Version     |    RelayCode   |  ContentCode   |    DestCode    |
  +---------------- ---------------- ---------------- ----------------+
  |    Mask        |             SrcUid              |    Alignment   |
  +---------------- ---------------- ---------------- ----------------+
  |           SrcOid(uint16)        |          DestLen(uint16)        |
  +---------------- ---------------- ---------------- ----------------+
  |         ContentLen(uint16)      |            Alignment            |
  +---------------- ---------------- ---------------- ----------------+
```

## Update Distributed Map
12bytes over  
defs.UPDATE_DIST_MAP
```
  0               8                16               24               32
  +---------------- ---------------- ---------------- ----------------+
  |                         Revision (uint32)                         |
  +---------------- ---------------- ---------------- ----------------+
  |                         Timestamp (int32)                         |
  +---------------- ---------------- ---------------- ----------------+
  |  Mode(sbyte)   |   Key Length   |      Value Length (uint16)      |
  +---------------- ---------------- ---------------- ----------------+
  |                  Key Bytes (free size byte array)                 |
  +---------------- ---------------- ---------------- ----------------+
  |                                                                   |
  +---------------- ---------------- ---------------- ----------------+
  |                           |               Alignment               |
  +---------------- ---------------- ---------------- ----------------+
  |                 Value Bytes (free size byte array)                |
  +---------------- ---------------- ---------------- ----------------+
  |                                                                   |
  +---------------- ---------------- ---------------- ----------------+
  |                                                                   |
  +---------------- ---------------- ---------------- ----------------+
  |                                                                   |
  +---------------- ---------------- ---------------- ----------------+
  |                    |
  +-------- -------- --+
```
Mode  
-1 ... Remove  
0  ... Add or Set  
  
## Pick Distributed Map (Request)
12bytes over  
defs.PICK_DIST_MAP
```
  0               8                16               24               32
  +---------------- ---------------- ---------------- ----------------+
  |                         Revision (uint32)                         |
  +---------------- ---------------- ---------------- ----------------+
```
  
## Pick Distributed Map (Relayed)
12bytes over  
defs.PICK_DIST_MAP
```
  0               8                16               24               32
  +---------------- ---------------- ---------------- ----------------+
  |                         Revision (uint32)                         |
  +---------------- ---------------- ---------------- ----------------+
  |                         Timestamp (int32)                         |
  +---------------- ---------------- ---------------- ----------------+
  |  Mode(sbyte)   |   Key Length   |      Value Length (uint16)      |
  +---------------- ---------------- ---------------- ----------------+
  |                  Key Bytes (free size byte array)                 |
  +---------------- ---------------- ---------------- ----------------+
  |                                                                   |
  +---------------- ---------------- ---------------- ----------------+
  |                           |               Alignment               |
  +---------------- ---------------- ---------------- ----------------+
  |                 Value Bytes (free size byte array)                |
  +---------------- ---------------- ---------------- ----------------+
  |                                                                   |
  +---------------- ---------------- ---------------- ----------------+
  |                                                                   |
  +---------------- ---------------- ---------------- ----------------+
  |                                                                   |
  +---------------- ---------------- ---------------- ----------------+
  |                    |
  +-------- -------- --+
```
Mode  
-1 ... Remove  
0  ... Add or Set  

## Notify Distributed Map Latest Revision
1byte fixed  
defs.NOTIFY_DIST_MAP_LATEST
```
  0               8                16               24               32
  +---------------- ---------------- ---------------- ----------------+
  |                         Revision (uint32)                         |
  +---------------- ---------------- ---------------- ----------------+
```
